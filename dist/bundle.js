document.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("drop-area"),n=document.getElementById("fileInput"),t=document.getElementById("convertButton"),r=document.getElementById("output");function a(e){e.preventDefault(),e.stopPropagation()}function i(){e.classList.add("highlight")}function d(){e.classList.remove("highlight")}function o(e){if(e.length>0){var n=e[0];n.name.endsWith(".txt")?r.innerHTML="<p>Выбран файл: ".concat(n.name,"</p>"):r.innerHTML="<p>Пожалуйста, выберите файл .txt</p>"}}["dragenter","dragover","dragleave","drop"].forEach((function(n){e.addEventListener(n,a,!1),document.body.addEventListener(n,a,!1)})),["dragenter","dragover"].forEach((function(n){e.addEventListener(n,i,!1)})),["dragleave","drop"].forEach((function(n){e.addEventListener(n,d,!1)})),e.addEventListener("drop",(function(e){o(e.dataTransfer.files)}),!1),e.addEventListener("click",(function(){return n.click()})),n.addEventListener("change",(function(e){o(e.target.files)}),!1),t.addEventListener("click",(function(){var e=n.files[0];if(e&&e.name.endsWith(".txt")){var t=new FormData;t.append("file",e),fetch("/convert",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){var n=JSON.stringify(e,null,2);r.innerHTML="<pre>".concat(n,"</pre>")})).catch((function(e){r.innerHTML="<p>Произошла ошибка: ".concat(e.message,"</p>")}))}else r.innerHTML="<p>Выберите файл .txt перед конвертацией</p>"}),!1)}));